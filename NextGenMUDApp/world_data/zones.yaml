ZONES:
  debug_zone:
    name: Starting Zone
    description: The place where all new characters begin their adventures.
    rooms:
      starting_room:
        name: Starting Room
        description: >
          The room where all new characters begin their adventures.
          
          Exits: north
        exits:
          north:
            destination: starting_room_2
        triggers:
          - type: catch_any
            criteria: 
              - subject: "%{*}"
                operator: contains
                predicate: "random"
            script: |
              settempvar char %{S} starting_room_random $random(1,100)
              echo The random number is $tempvar(%{S},starting_room_random).
              $if($numlte($tempvar(%{S},starting_room_random),50), eq, true){
                echo Less than or equal to 50.
              }
              else {
                echo Greater than 50.
              }
          # - type: timer_tick
          #   criteria:
          #     - subject: "%{time_elapsed}"
          #       operator: "numgte"
          #       predicate: 4
          #   script: |
          #     echo Tick!
      starting_room_2:
        name: Starting Room 2
        description: >
          The second room where all new characters begin their adventures.
          
          Exits: north, south
        exits:
          north:
            destination: enchanted_forest.mystical_glade
          south:
            destination: starting_room
        triggers:
          - type: catch_any
            criteria: 
              - subject: "%{*}"
                operator: contains
                predicate: "arrives."
            script: |
              echoto %{S} You trip as you enter.
              echoexcept %{S} %{s} trips as %{q} enters.
          # - type: timer_tick
          #   criteria: 
          #     - subject: "%{time_elapsed}"
          #       operator: "numgte"
          #       predicate: 4
          #   script: |
          #     echo Tick!
          - type: timer_tick
            criteria:
              - subject: "%{time_elapsed}"
                operator: "numgte"
                predicate: 4
              - subject: "$random(1,100)"
                operator: "numlte"
                predicate: 25
            script: |
              echo Wildlife rustles in the underbrush.
          - type: catch_look
            criteria: 
              - subject: "%{*}"
                operator: contains
                predicate: "squirrel"
            script: |
              echo You see a squirrel.
              echoexcept %{S} %{s} sees a squirrel.
  enchanted_forest:
    name: Enchanted Forest
    description: A mystical forest filled with ancient magic and wonder.
    rooms:
      mystical_glade:
        name: Mystical Glade
        description: >
          In a secluded corner of an ancient forest lies a mystical glade, a hidden
          sanctuary bathed in a soft, ethereal light that seems to weave through the
          air like a gentle mist. This enchanted clearing is encircled by venerable
          trees of immense age, their trunks gnarled and thick, rising high into the
          sky. Their branches, heavy with luminous leaves, intertwine above, creating
          a natural dome that filters sunlight into a kaleidoscope of gentle greens and golds.

          Exits: south, east
        exits:
          south:
            destination: debug_zone.starting_room_2
          east:
            destination: crystal_cave
        triggers:
          - type: timer_tick
            criteria: 
              - subject: "%{time_elapsed}"
                operator: "numgte"
                predicate: 5
            script: |
              echo A gentle breeze whispers through the leaves, carrying a hint of magic in the air.
          - type: timer_tick
            criteria:
              - subject: "%{time_elapsed}"
                operator: "numgte"
                predicate: 10
              - subject: "$random(1,100)"
                operator: "numlte"
                predicate: 30
            script: |
              echo You notice a faint shimmering in the air, as if the very atmosphere of the glade is alive with enchantment.
          - type: catch_look
            criteria: 
              - subject: "%{*}"
                operator: contains
                predicate: "tree"
            script: |
              echo The tree you look at seems ancient and wise, its bark glowing faintly with runic symbols.
          - type: catch_any
            criteria: 
              - subject: "%{*}"
                operator: contains
                predicate: "sing"
            script: |
              echo Your singing seems to harmonize with the natural sounds of the forest, creating a beautiful melody.
          - type: catch_any
            criteria:
              - subject: "%{*}"
                operator: contains
                predicate: "dance"
            script: |
              echo As you dance, the leaves around you seem to sway in rhythm, as if joining in your joy.
      crystal_cave:
        name: Crystal Cave
        description: >
          Hidden within the Enchanted Forest lies the Crystal Cave, a mesmerizing subterranean wonder.
          Upon entering, one is immediately enveloped by a kaleidoscope of light, as countless crystals
          embedded in the walls and ceiling catch and refract the faintest of lights. These crystals
          range in color from deep amethyst to the clearest diamond, creating a dazzling display that
          seems almost otherworldly. The air inside is cool and carries a faint, mineral scent, echoing
          with the soft, melodic dripping of water. Delicate crystal formations grow from the floor,
          creating an intricate maze that leads deeper into the heart of the cave.

          Exits: east
        exits:
          east:
            destination: whispering_waterfall
          # west:
          #   destination: fairy_meadow
        triggers:
          - type: timer_tick
            criteria:
              - subject: "%{time_elapsed}"
                operator: "numgte"
                predicate: 6
            script: |
              echo Softly glowing crystals pulsate gently, casting dancing lights across the cave walls.
          - type: catch_look
            criteria: 
              - subject: "%{*}"
                operator: contains
                predicate: "crystal"
            script: |
              echo As you gaze at the crystal, it sparkles brilliantly, momentarily capturing a rainbow within its facets.
          - type: catch_any
            criteria:
              - subject: "%{*}"
                operator: contains
                predicate: "touch"
            script: |
              echo As your fingers brush against the crystal, it emits a soft, harmonious tone, resonating through the cave.
          - type: catch_any
            criteria:
              - subject: "%{*}"
                operator: contains
                predicate: "sing"
            script: |
              echo Your voice echoes in the cave, harmonizing with the subtle symphony of the crystals, creating an enchanting melody.
          - type: timer_tick
            criteria:
              - subject: "%{time_elapsed}"
                operator: "numgte"
                predicate: 8
              - subject: "$random(1,100)"
                operator: "numlte"
                predicate: 20
            script: |
              echo A faint breeze stirs the air, causing the crystals to tinkle softly, like chimes in a gentle wind.
